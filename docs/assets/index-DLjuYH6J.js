(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();const a=document.getElementById("btn1"),u=document.getElementById("btn2"),m=document.getElementById("btn3"),f=document.getElementById("btn4");if(!a||!u||!m||!f)throw new Error("ボタンの要素が存在しない");function p(e){const n=document.createElement("div");n.classList.add("note"),e.appendChild(n);let i=0;const s=setInterval(()=>{i+=2,n.style.top=i+"px",i>window.innerHeight&&(clearInterval(s),n.parentElement===e&&e.removeChild(n))},2);n.dataset.intervalId=String(s)}document.getElementById("start-btn").addEventListener("click",()=>{const e=document.getElementById("lane1"),n=document.getElementById("lane2"),i=document.getElementById("lane3"),s=document.getElementById("lane4"),t=[e,n,i,s];setInterval(()=>{let o=Math.floor(Math.random()*t.length);p(t[o])},120/128*1e3)});function h(e,n){const i=(e.width+e.left)/2,s=(e.height+e.top)/2,t=(n.width+n.left)/2,o=(n.height+n.top)/2;return E(i,s,t,o)}function E(e,n,i,s){return Math.sqrt((i-e)**2+(s-n)**2)}function l(e){const n=document.querySelectorAll(".note"),i=e.getBoundingClientRect();let s=!1;return n.forEach(t=>{const o=t.getBoundingClientRect();let c=h(o,i);if(c<10){const g=t.dataset.intervalId;t.remove(),clearInterval(Number(g)),console.log(e.id);const y="images-container"+e.id.replace("btn",""),d=document.getElementById(y),r=document.createElement("img");r.style.width="100px",r.style.height="100px",r.alt="当たり判定",c<=2?r.src="./images/perfect.png":c<=5?r.src="./images/great.png":c<=8&&(r.src="./images/good.png"),d==null||d.appendChild(r),setTimeout(()=>d==null?void 0:d.removeChild(r),1e3),s=!0}}),s}a.addEventListener("click",()=>l(a));u.addEventListener("click",()=>l(u));m.addEventListener("click",()=>l(m));f.addEventListener("click",()=>l(f));const v=e=>{e.key==="d"||e.key==="1"?l(a):e.key==="f"||e.key==="2"?l(u):e.key==="j"||e.key==="3"?l(m):(e.key==="k"||e.key==="4")&&l(f)};window.addEventListener("keydown",v);
